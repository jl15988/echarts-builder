<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<div id="ech" ref="ech" style="width: 800px; height: 500px"></div>
<script src="https://unpkg.com/echarts@5.5.0/dist/echarts.js"></script>
<script src="../lib/echarts-builder.min.js"></script>
<script>
    const {
        EchartsBuilder,
        EchartsLineStyle,
        EchartsTooltipStyle,
        EchartsBarStyle,
        SeriesLabelBuilder,
        SeriesLabelFormatterBuilder
    } = echartsBuilder
    const ec = EchartsBuilder.builder("ech")

    const labelFormatterBuilder = SeriesLabelFormatterBuilder
        .builder()
        .sname({
            color: '#6E7079',
            lineHeight: 22,
            align: 'center'
        })
        .br().hr().br().space()
        .name({
            color: '#4C5058',
            fontSize: 14,
            fontWeight: 'bold',
            lineHeight: 33,
            padding: [0, 0, 0, 10],
        }, "ï¼š ")
        .value({
            padding: [0, 10, 0, 0]
        })
        .pvalue({
            color: '#fff',
            backgroundColor: '#4C5058',
            padding: [3, 4],
            borderRadius: 4
        }, '%')
        .tab();

    const labelOption = SeriesLabelBuilder
        .builder()
        .backgroundColor("#F6F8FC")
        .borderColor("#8C8D8E")
        .borderWidth(1)
        .borderRadius(4)
        .formatter(labelFormatterBuilder)
        .build()


    console.log(labelOption)

    ec.legend([
        'Direct',
        'Marketing',
        'Search Engine',
        'Email',
        'Union Ads',
        'Video Ads',
        'Baidu',
        'Google',
        'Bing',
        'Others'
    ])
        .series({
            name: 'Access From',
            type: 'pie',
            selectedMode: 'single',
            radius: ['45%', '60%'],
            labelLine: {
                length: 30
            },
            data: [
                {value: 1048, name: 'Baidu'},
                {value: 335, name: 'Direct'},
                {value: 310, name: 'Email'},
                {value: 251, name: 'Google'},
                {value: 234, name: 'Union Ads'},
                {value: 147, name: 'Bing'},
                {value: 135, name: 'Video Ads'},
                {value: 102, name: 'Others'}
            ],
            label: labelOption
        })
    console.log(ec)
    ec.build()
</script>
</body>
</html>
