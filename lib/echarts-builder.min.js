!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("echarts")):"function"==typeof define&&define.amd?define(["echarts"],e):"object"==typeof exports?exports.echartsBuilder=e(require("echarts")):t.echartsBuilder=e(t.echarts)}(self,(t=>(()=>{"use strict";var e={190:e=>{e.exports=t}},i={};function s(t){var o=i[t];if(void 0!==o)return o.exports;var n=i[t]={exports:{}};return e[t](n,n.exports,s),n.exports}s.d=(t,e)=>{for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},s.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),s.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var o={};return(()=>{s.r(o),s.d(o,{EchartsAxisType:()=>i,EchartsBarStyle:()=>f,EchartsBuilder:()=>d,EchartsLineStyle:()=>y,EchartsTooltipStyle:()=>O,default:()=>b});var t={};s.r(t),s.d(t,{EchartsAxisType:()=>i,EchartsBarStyle:()=>f,EchartsBuilder:()=>d,EchartsLineStyle:()=>y,EchartsTooltipStyle:()=>O,default:()=>b});const e=t;var i;!function(t){t.VALUE="value",t.CATEGORY="category",t.TIME="time",t.LOG="log"}(i||(i={}));var n=s(190);const r=new class{deepAssign(t,e){return e&&Array.isArray(e)?e.map(((e,i)=>null==e?t[i]:Array.isArray(e)?this.deepAssign(t[i]||[],e):"object"==typeof e?a.deepAssign(t[i]||{},e):e)):t}};const a=new class{deepAssign(t,...e){if(!e)return t;for(let i of e)if("object"==typeof i)for(const e in i)if(i.hasOwnProperty(e)){const s=i[e];if(null==s)continue;Array.isArray(s)?t[e]=r.deepAssign(t[e]||[],i[e]):t[e]="object"!=typeof s?s:this.deepAssign(t[e]||{},s)}return t}deepAssignByKey(t,e,...i){return i?(t[e]||(t[e]={}),this.deepAssign(t[e],...i)):t}};const p=class{instance;option=d.defaultOption.getDefaultOption();assignOption={};constructor(t){if("string"==typeof t&&(t=document.getElementById(t)),!(t instanceof HTMLElement))throw new Error("element error");this.instance=n.getInstanceByDom(t),this.instance||(this.instance=n.init(t))}listenWindowResize(){window&&window.addEventListener&&window.addEventListener("resize",(()=>{this.instance.resize({animation:{duration:300,easing:"quadraticIn"}})}))}assign(t){for(let e in t)if(t[e]&&"series"!==e&&"seriesList"!==e){const i=this.option[e];if(!i){this.option[e]=t[e];continue}i instanceof Array?this.option[e]=t[e]:a.deepAssignByKey(this.option,e,t[e])}return a.deepAssign(this.assignOption,t),this}build(t){this.instance.setOption(a.deepAssign({},this.option,t))}title(t,e){return"string"==typeof t?(this.option.title||(this.option.title={}),this.option.title.text=t,e&&(this.option.title.subtext=e)):a.deepAssignByKey(this.option,"title",t),this}legend(t){return t instanceof Array?(this.option.legend||(this.option.legend={}),this.option.legend.data=t):a.deepAssignByKey(this.option,"legend",t),this}grid(t,e,i,s){return"string"==typeof t||"number"==typeof t?(this.option.grid||(this.option.grid={}),this.option.grid.left=t,e&&(this.option.grid.top=e),i&&(this.option.grid.right=i),s&&(this.option.grid.bottom=s)):a.deepAssignByKey(this.option,"grid",t),this}xAxis(t,e){return t instanceof Array?(this.option.xAxis||(this.option.xAxis={}),this.option.xAxis.data=t,e&&(this.option.xAxis.type=e)):a.deepAssignByKey(this.option,"xAxis",t),this}yAxis(t,e){return t instanceof Array?(this.option.yAxis||(this.option.yAxis={}),this.option.yAxis.data=t,e&&(this.option.yAxis.type=e)):a.deepAssignByKey(this.option,"yAxis",t),this}radar(t){return t instanceof Array?(this.option.radar||(this.option.radar={}),this.option.radar.indicator=t):a.deepAssignByKey(this.option,"radar",t),this}visualMap(t){if(this.option.visualMap||(this.option.visualMap=[]),t instanceof Array)for(let e of t)a.deepAssign({},d.defaultOption.visualMap,this.assignOption.visualMap,e),this.option.visualMap.push(e);else this.option.visualMap.push(a.deepAssign({},d.defaultOption.visualMap,this.assignOption.visualMap,t));return this}tooltip(t){return"string"==typeof t?(this.option.tooltip||(this.option.tooltip={}),this.option.tooltip.trigger=t):a.deepAssignByKey(this.option,"tooltip",t),this}toolbox(t){if(t instanceof Array){this.option.toolbox||(this.option.toolbox={});const e={};for(let i of t)i instanceof Array?e.magicType=i:e[i]={};this.option.toolbox.feature=e}else a.deepAssignByKey(this.option,"toolbox",t);return this}series(t,e,i){this.option.series||(this.option.series=[]);let s={};if(this.assignOption&&this.assignOption.series&&(s=a.deepAssign({},this.assignOption.series),this.assignOption.seriesList)){const t=this.assignOption.seriesList[this.option.series.length];t&&a.deepAssign(s,t)}return"string"==typeof t?this.option.series.push(a.deepAssign({},d.defaultOption.series,s,{type:t,data:e,name:i})):this.option.series.push(a.deepAssign({},d.defaultOption.series,s,t)),this}color(t){return this.option.color=t,this}};class l{title;legend;grid;xAxis={type:i.CATEGORY};yAxis={type:i.VALUE};radar;visualMap;tooltip={trigger:"item"};toolbox;series;seriesList;color;getDefaultOption(){const t={},e=["title","legend","grid","xAxis","yAxis","radar","tooltip","toolbox","series","color"];for(let i of e)this[i]&&a.deepAssignByKey(t,i,this[i]),h.defaultOption[i]&&a.deepAssignByKey(t,i,h.defaultOption[i]);return t}}const h=new class{defaultOption=new l;builder(t){return new p(t)}defaultTitle(t){a.deepAssignByKey(this.defaultOption,"title",t)}defaultGrid(t){a.deepAssignByKey(this.defaultOption,"grid",t)}defaultXAxis(t){a.deepAssignByKey(this.defaultOption,"xAxis",t)}defaultYAxis(t){a.deepAssignByKey(this.defaultOption,"yAxis",t)}defaultTooltip(t){a.deepAssignByKey(this.defaultOption,"tooltip",t)}defaultSeries(t){a.deepAssignByKey(this.defaultOption,"series",t)}defaultColor(t){this.defaultOption.color=t}},d=h;const u=class{option={};build(){return this.option}setStyle(t){a.deepAssign(this.option,t)}};class c extends u{static builder(){return new c}smooth(){return this.setStyle({series:{smooth:!0}}),this}area(){return this.setStyle({series:{areaStyle:{}}}),this}stack(t="Total"){return this.setStyle({series:{stack:t}}),this}areaStack(){return this.setStyle({series:{areaStyle:{},stack:"Total",emphasis:{focus:"series"}}}),this}gradient(t){const e={seriesList:[]};for(let i of t)e.seriesList.push({areaStyle:{opacity:.8,color:new n.graphic.LinearGradient(0,0,0,1,[{offset:0,color:i[0]||void 0},{offset:1,color:i[1]||void 0}])}});return this.setStyle(e),this}lineGradient(t,e,i){const s={visualMap:{type:"continuous",min:t,max:e}};return i&&(s.visualMap.inRange={},s.visualMap.inRange.color=i),a.deepAssign(this.option,s),this}}const y=c;class g extends u{static builder(){return new g}background(t="rgba(180, 180, 180, 0.2)"){return this.setStyle({series:{showBackground:!0,backgroundStyle:{color:t}}}),this}}const f=g;const A=new class{formatMap(t,e){for(let i in e)t=t.replace(new RegExp(`{${i}}`,"g"),e[i]);return t}};class x extends u{static builder(){return new x}pointer(t="line"){return this.setStyle({tooltip:{trigger:"axis",axisPointer:{type:t}}}),this}formatter(t){return t=(t=(t=(t=t.replace(/{sname}/g,"{a}")).replace(/{name}/g,"{b}")).replace(/{value}/g,"{c}")).replace(/{pvalue}/g,"{d}"),this.setStyle({tooltip:{formatter:t}}),this}formatters(...t){return this.setStyle({tooltip:{formatter:e=>{let i=[];if(!e)return"";if(e instanceof Array)for(let s=0;s<e.length;s++){const o=e[s],n=s>t.length-1?t[t.length-1]:t[s];i.push(A.formatMap(n,o))}else i.push(A.formatMap(t[0],e));return i.join("<br/>")}}}),this}}const O=x,b=e})(),o=o.default})()));